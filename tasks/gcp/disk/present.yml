---
- name: Create a Disk
  google.cloud.gcp_compute_disk:
    name: "{{ cloud_provider_resource_detail.disk.name }}"
    type: "{{ cloud_provider_resource_detail.disk.type | default(omit) }}"
    size_gb: "{{ cloud_provider_resource_detail.disk.size_gb }}"
    source_image: "{{ cloud_provider_resource_detail.disk.source_image }}"
    zone: "{{ cloud_provider_resource_detail.disk.zone }}"
    project: "{{ cloud_provider_auth.project_id }}"
    auth_kind: "{{ cloud_provider_auth.auth_kind }}"
    service_account_file: "{{ cloud_provider_auth.service_acount_token }}"
    state: present
